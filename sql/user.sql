CREATE TABLE `user` (
  `id` INT AUTO_INCREMENT PRIMARY KEY,
  `appid` VARCHAR(64) NOT NULL DEFAULT '',
  `appname` VARCHAR(64) NOT NULL DEFAULT '',
  `platform` VARCHAR(16) NOT NULL DEFAULT '',
  `userid` VARCHAR(64) NOT NULL UNIQUE DEFAULT '',
  `email` VARCHAR(64) UNIQUE DEFAULT NULL,
  `nickname` VARCHAR(64) NOT NULL DEFAULT '',
  `realname` VARCHAR(64) NOT NULL DEFAULT '',
  `age` INT NOT NULL DEFAULT 0,
  `sex` INT NOT NULL DEFAULT 0,
  `avatar` VARCHAR(128) DEFAULT '',
  `password` VARCHAR(64) NOT NULL DEFAULT '',
  `token` VARCHAR(256) UNIQUE DEFAULT NULL,
  `phone` VARCHAR(32) NOT NULL DEFAULT '',
  `sms` VARCHAR(16) NOT NULL DEFAULT '',
  `role` INT NOT NULL DEFAULT 0,
  `grade` INT NOT NULL DEFAULT 0,
  `class` INT NOT NULL DEFAULT 0,
  `invitationCode` VARCHAR(64) NOT NULL DEFAULT '',
  `logStatus` INT NOT NULL DEFAULT 0,
  `loginAt` VARCHAR(64) NOT NULL DEFAULT '',
  `logoutAt` VARCHAR(64) NOT NULL DEFAULT '',
  `status` INT NOT NULL DEFAULT 1,
  `activeAt` VARCHAR(64) NOT NULL DEFAULT '',
  `createdAt` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `updatedAt` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  UNIQUE INDEX `user_appid_userid_platform_unique` (`appid`, `userid`, `platform`),
  INDEX `user_userid_index` (`userid`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;
